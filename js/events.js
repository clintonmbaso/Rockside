         // Array of events with their respective dates and reminder thresholds
         const events = [
            { 
               name: "KEMD Inductions", 
               date: new Date("Jan 5, 2024 08:00:00").getTime(), 
               reminderDays: 2, 
               reminderHours: 12, 
               caption: "KEMD Inductions", 
               details: "Description of KEMD Inductions", 
               imageUrl: "images/KEMD Inductions.jpg" 
            },
     
     
             { name: "KEMD Adventurer Bible Quiz", 
               date: new Date("Feb 25, 2024 08:00:00").getTime(), 
               reminderDays: 2, reminderHours: 12,
               caption: "KEMD Adventurer Bible Quiz", 
               details: "Description of KEMD Adventurer Bible Quiz", 
               imageUrl: "images/KEMD Adventurer Bible Quiz.jpg" 
             },
     
             { name: "MEZC Leadership Seminar", 
               date: new Date("Mar 7, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "MEZC Leadership Seminar", 
               details: "Description of MEZC Leadership Seminar", 
               imageUrl: "images/MEZC Leadership Seminar.jpg" 
             },
     
             { name: "MEZC GYD Part 1", 
               date: new Date("Mar 12, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "MEZC GYD Part 1", 
               details: "Description of MEZC GYD Part 1", 
               imageUrl: "images/MEZC GYD Part 1.jpg" 
             },
     
             { name: "MEZC GYD Part 2", 
               date: new Date("Mar 16, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "MEZC GYD Part 2", 
               details: "Description of MEZC GYD Part 2", 
               imageUrl: "images/MEZC GYD Part 2.jpg" 
             },
     
             { name: "Youth Week of Prayer", 
               date: new Date("Mar 17, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "Youth Week of Prayer", 
               details: "Description of Youth Week of Prayer", 
               imageUrl: "images/Youth Week of Prayer.jpg" 
             },
     
             { name: "KEMD Big Sabbath", 
               date: new Date("Mar 30, 2024 08:00:00").getTime(), 
               reminderDays: 5, reminderHours: 12,
               caption: "KEMD Big Sabbath", 
               details: "Description of KEMD Big Sabbath", 
               imageUrl: "images/KEMD Big Sabbath.jpg" 
             },
     
         	   { name: "MEZC I Love my Neighbor", 
         	     date: new Date("Mar 31, 2024 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "MEZC I Love my Neighbor", 
               details: "Description of MEZC I Love my Neighbor", 
               imageUrl: "images/MEZC I Love my Neighbor.jpg" 	     
         	   },
     
         	   { name: "KEMD Pathfinder Fair", 
         	     date: new Date("Apr 21, 2024 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "KEMD Pathfinder Fair", 
               details: "Description of KEMD Pathfinder Fair", 
               imageUrl: "images/KEMD Pathfinder Fair.jpg" 	     
         	   },
     
         	   { name: "MEZC CMT Camp", 
         	     date: new Date("Apr 26, 2024 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "MEZC CMT Camp", 
               details: "Description of MEZC CMT Camp", 
               imageUrl: "images/MEZC CMT Camp.jpg" 	     
         	   },
     
         	   { name: "KEMD Adventurer Quiz Day", 
         	     date: new Date("May 5, 2024 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "KEMD Adventurer Quiz Day", 
               details: "Description of KEMD Adventurer Quiz Day", 
               imageUrl: "images/KEMD Adventurer Quiz Day.jpg" 	     
         	   },
     
         	   { name: "Rockside Survival Camp", 
         	     date: new Date("May 10, 2024 06:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Rockside Survival Camp", 
               details: "Description of Rockside Survival Camp", 
               imageUrl: "images/Rockside Survival Camp.jpg" 	     
         	   },

      	      { name: "GC Adventurer Day", 
      	        date: new Date("May 18, 2024 08:00:00").getTime(), 
      	        reminderDays: 2, reminderHours: 12,
               caption: "GC Adventurer Day", 
               details: "Description of GC Adventurer Day", 
               imageUrl: "images/GC Adventurer Day.jpg" 	        
      	      },
     
       	     { name: "MEZC Youth Council", 
       	       date: new Date("May 19, 2024 08:00:00").getTime(), 
       	       reminderDays: 2, reminderHours: 12,
               caption: "MEZC Youth Council", 
               details: "The conference youth council meeting reviews past activities and reports to improve Adventist Youth Ministries in both regions. It empowers youth to develop strategies for enhancement, fostering leadership skills and emphasizing the social value of their contributions to drive meaningful change within the community.", 
               imageUrl: "images/MEZC Council.jpg" 	       
       	     },
     
     
         	   { name: "KEMD Church Heritage Exams", 
         	     date: new Date("May 2, 2024 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "KEMD Church Heritage Exams", 
               details: "The Church Heritage exams of the SDA Church provide invaluable insights into Adventist history and beliefs. Participation fosters a deeper understanding of faith and strengthens AYM Leadership. At just K35, it is a worthwhile investment in spiritual growth.", 
               imageUrl: "images/KEMD CH Exams.jpg" 	     
         	   },

               { name: "KEMD Silver Award Expedition", 
               date: new Date("Jun 29, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "KEMD Silver Award Expedition", 
               details: "Join us for an unforgettable Ambassador and Young Adult Silver Award Expedition Camp and Sabbath in the serene woods! Embrace nature, forge new connections, and elevate your leadership skills. June 29th-30th. Book your spot now for just K120 full package and K50 just attendance!",
                imageUrl: "images/KEMD-expedition.jpg" 	     
         	   },

                  
               { name: "KEMD Picnic", 
               date: new Date("Jul 7, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "KEMD Picnic", 
               details: "Join us on July 7, 2024, for a vibrant picnic tailored for ambassadors and young adults. Connect and mingle through activities designed to foster camaraderie, including boat cruising, a delightful braai, egg and sac races, invigorating volleyball matches, and engaging lessons. Secure your spot with a registration fee of K100, covering access and participation, alongside K80 for transport arrangements and an optional K120 for the scenic boat cruising experience. Don't miss this opportunity to unwind and forge new connections in a picturesque setting!",
                imageUrl: "images/KEMD-picnic.jpg" 	     
         	   },
     
         	   { name: "MEZC Church Heritage Exams", 
         	     date: new Date("Jul 21, 2024 06:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "MEZC Church Heritage Exams", 
               details: "The Church Heritage exams of the SDA Church provide invaluable insights into Adventist history and beliefs. Participation fosters a deeper understanding of faith and strengthens AYM Leadership. At just K35, it is a worthwhile investment in spiritual growth.", 
               imageUrl: "images/KEMD CH Exams.jpg" 	     
         	   }

     
     
            // Add other events here
         ];

         let currentEventIndex = 0;

         function updateCountdown() {
            // Get the current date and time
            const now = new Date().getTime();

            // Get the details of the current event
            const currentEvent = events[currentEventIndex];

            // Calculate the time remaining for the current event
            const distance = currentEvent.date - now;

            // Calculate days, hours, minutes, and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the countdown for the current event with the event name as a link
            document.getElementById("countdown").innerHTML =
               "<a href='#' onclick='showPopup(\"" + currentEvent.caption + "\", \"" + currentEvent.details + "\", \"" + currentEvent.imageUrl + "\")' style='text-decoration: none; color:#fff;'><strong>" + currentEvent.name + "</strong></a><br>" +
               days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

            // Check if it's time to show a reminder
            if (distance > 0) {
               if (days === currentEvent.reminderDays && hours === currentEvent.reminderHours) {
                  showReminder(currentEvent.name);
               }
            }

            // If the countdown for the current event is over, move to the next event
            if (distance < 0) {
               currentEventIndex++;
               // If all events are completed, display a message
               if (currentEventIndex >= events.length) {
                  document.getElementById("countdown").innerHTML = "All events completed!";
               } else {
                  // Update the countdown for the next event
                  updateCountdown();
               }
            }
         }

         // Function to show the popup with image, caption, and details
         function showPopup(caption, details, imageUrl) {
            document.getElementById('popupsImage').src = imageUrl;
            document.getElementById('popupsCaption').innerHTML = caption;
            document.getElementById('popupsDetails').innerHTML = details;
            document.getElementById('popupsContainer').style.display = 'block';
            document.getElementById('blurredBackground').style.display = 'block'; // Show blurred background
         }

         // Function to close the popups
         function closePopup() {
            document.getElementById('popupsContainer').style.display = 'none';
            document.getElementById('blurredBackground').style.display = 'none'; // Hide blurred background
         }

         let lastScrollPosition = 0;
         const countdown = document.getElementById('countdown');

         window.addEventListener('scroll', () => {
            const currentScrollPosition = window.scrollY;

            if (currentScrollPosition > lastScrollPosition && currentScrollPosition > 100) {
               countdown.classList.add('hide');
            } else {
               countdown.classList.remove('hide');
            }

            lastScrollPosition = currentScrollPosition;
         });

         // Close the popup and blurred background on page load
         window.onload = function () {
            closePopup();
            updateCountdown(); // Call updateCountdown on page load
            // Update the countdown every 1 second
            setInterval(updateCountdown, 1000);
         };

