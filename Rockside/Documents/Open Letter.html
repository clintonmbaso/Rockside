<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introductory</title>
    <link rel="stylesheet" href="letterHead.css">
    <!-- Font Awesome CDN for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
    .footer {
        bottom: 2px;
    }
    </style>
</head>
<body>



    <!-- Main Content Area -->
    <div class="content">



        <header>
            <h1 class="sdaName" style="margin-bottom:1px;">KABWE EAST MISSION DISTRICT</h1>
            <p style="margin-bottom:1px;">LUKANGA MAIN SDA CHURCH PREMISE</p><p>P.O BOX 80415.<br>Kabwe, Zambia.</p>
            <p>Phone: <a href="Call:+260977330091">+260977330091</a> | <a href="Call:+260977990617">+260977990617</a> | Email: <a href="mailto:kabweeastmission@gmail.com">kabweeastmission@gmail.com</a></p>
        </header>

        <hr>

        <div id="date">Date: </div>
<script>
    // Function to get and format the current date
    function getFullDate() {
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        const currentDate = new Date().toLocaleDateString('en-US', options);
        return currentDate;
    }

    // Insert the date into an element with the id 'date'
    document.getElementById('date').textContent = getFullDate();
</script>
        
        
        <div class="recipient">
            <p class="address"><span contenteditable="true" class="editable placeholder" data-placeholder="Insert Recipient's Address">Insert Recipient's Address</span></p>
        </div>        
        <br>        
        
        <p>Dear  <span contenteditable="true" class="editable placeholder" data-placeholder="Letter Body">Name</span></p>
        <div class="subject">
            <strong>RE: </strong><b><span id="firstName" contenteditable="true" class="editable placeholder" data-placeholder="Enter Name" style="text-transform: uppercase;">Enter Name</span></b>
        </div>
                <br>
        
          <span contenteditable="true" class="editable placeholder" data-placeholder="Letter Body">Letter Body</span> 
        <br>
        
        <p><em>Yours In Christ Service.</em></p>
        
        <div class="signature" id="why" style="display: flex; justify-content: space-between;">
            <p><b>District AYM President</b><br><em>Moris Chibale</em><br><br>_____________________<!-- <img src="signatures/morrisChibaleSignature.png" alt="KEMDAYMPresident" class="KEMDAYMPresident">--></p>
            <p style="text-align:center;"><b>cc: District Secretary</b><br><em>Elder E. Moonga</em><br><br>_____________________</p>
            <p style="text-align:right;"><b>cc: District Pastor</b><br><em>Pr. P. Hankwebe</em><br><br>_____________________</p>
        </div>



<!-- Button Container -->
<div class="btn-container">
    <button class="btn save-btn" onclick="saveDocument()">
        <i class="fas fa-save"></i> Save
    </button>
    <button class="btn print-btn" onclick="window.print()">
        <i class="fas fa-print"></i> Print
    </button>
</div>

    </div>
        <!-- Right Sidebar for Logo -->
    <div class="sidebar">
        <img class="One1" src="../images/sdaLogos.png" alt="Church Logo">
        <p><b>Seventh-Day</b> <span class="adventist"><b>Adventist</b></span> <b>Church</b></p>
    </div>
    
    <script>
        function saveDocument() {
            alert('Saving feature will require backend integration. This is just a placeholder for now.');
        }
    
document.querySelectorAll('.editable').forEach(element => {
  element.addEventListener('click', () => {
    // Check if the placeholder is still active
    if (element.classList.contains('placeholder')) {
      element.classList.remove('placeholder');
      element.textContent = ''; // Clear placeholder text

      // Use setTimeout to ensure keyboard opens immediately after clearing
      setTimeout(() => {
        let range = document.createRange();
        let selection = window.getSelection();
        range.selectNodeContents(element);
        range.collapse(false); // Move cursor to end
        selection.removeAllRanges();
        selection.addRange(range);
      }, 0);
    }
  });

  element.addEventListener('blur', () => {
    if (element.textContent.trim() === '') {
      element.classList.add('placeholder');
      element.textContent = element.getAttribute('data-placeholder'); // Restore specific placeholder
    }
  });
});
    
const firstName = document.getElementById('firstName');
const secondName = document.getElementById('secondName');

// Function to convert text to Proper Case (capitalize first letter of each word)
function toProperCase(text) {
  return text
    .toLowerCase()
    .split(' ')
    .map(word => word.charAt(0).toUpperCase() + word.slice(1))
    .join(' ');
}

// Sync second span with the first one's input (convert to Proper Case)
firstName.addEventListener('input', () => {
  secondName.textContent = toProperCase(firstName.textContent);
});

// Immediate focus on first click
firstName.addEventListener('click', () => {
  if (firstName.classList.contains('placeholder')) {
    firstName.classList.remove('placeholder');
    firstName.textContent = ''; // Clear placeholder

    setTimeout(() => {
      let range = document.createRange();
      let selection = window.getSelection();
      range.selectNodeContents(firstName);
      range.collapse(false);
      selection.removeAllRanges();
      selection.addRange(range);
    }, 0);
  }
});

// Placeholder logic
firstName.addEventListener('blur', () => {
  if (firstName.textContent.trim() === '') {
    firstName.classList.add('placeholder');
    firstName.textContent = firstName.getAttribute('data-placeholder');
    secondName.textContent = 'Enter Name'; // Reset second name
  }
});
    </script>

</body>
</html>