         // Array of events with their respective dates and reminder thresholds
         const events = [
            { 
               name: "KEMD Inductions", 
               date: new Date("Jan 5, 2024 08:00:00").getTime(), 
               reminderDays: 2, 
               reminderHours: 12, 
               caption: "KEMD Inductions", 
               details: "Description of KEMD Inductions", 
               imageUrl: "images/KEMD Inductions.jpg" 
            },
     
     
// February
             { name: "KEMD Adventurer Bible Quiz", 
               date: new Date("Feb 25, 2024 08:00:00").getTime(), 
               reminderDays: 2, reminderHours: 12,
               caption: "KEMD Adventurer Bible Quiz", 
               details: "Description of KEMD Adventurer Bible Quiz", 
               imageUrl: "images/KEMD Adventurer Bible Quiz.jpg" 
             },
     

// March
             { name: "MEZC Leadership Seminar", 
               date: new Date("Mar 7, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "MEZC Leadership Seminar", 
               details: "Description of MEZC Leadership Seminar", 
               imageUrl: "images/MEZC Leadership Seminar.jpg" 
             },
     
             { name: "MEZC GYD Part 1", 
               date: new Date("Mar 12, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "MEZC GYD Part 1", 
               details: "Description of MEZC GYD Part 1", 
               imageUrl: "images/MEZC GYD Part 1.jpg" 
             },
     
             { name: "MEZC GYD Part 2", 
               date: new Date("Mar 16, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "MEZC GYD Part 2", 
               details: "Description of MEZC GYD Part 2", 
               imageUrl: "images/MEZC GYD Part 2.jpg" 
             },
     
             { name: "Youth Week of Prayer", 
               date: new Date("Mar 17, 2024 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "Youth Week of Prayer", 
               details: "Description of Youth Week of Prayer", 
               imageUrl: "images/Youth Week of Prayer.jpg" 
             },
     
             { name: "KEMD Big Sabbath", 
               date: new Date("Mar 30, 2024 08:00:00").getTime(), 
               reminderDays: 5, reminderHours: 12,
               caption: "KEMD Big Sabbath", 
               details: "Description of KEMD Big Sabbath", 
               imageUrl: "images/KEMD Big Sabbath.jpg" 
             },
     
         	   { name: "MEZC I Love my Neighbor", 
         	     date: new Date("Mar 31, 2024 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "MEZC I Love my Neighbor", 
               details: "Description of MEZC I Love my Neighbor", 
               imageUrl: "images/MEZC I Love my Neighbor.jpg" 	     
         	   },
     

// April
         	   { name: "KEMD Pathfinder Fair", 
         	     date: new Date("Apr 21, 2024 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "KEMD Pathfinder Fair", 
               details: "Description of KEMD Pathfinder Fair", 
               imageUrl: "images/KEMD Pathfinder Fair.jpg" 	     
         	   },
     
         	   { name: "MEZC CMT Camp", 
         	     date: new Date("Apr 26, 2024 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "MEZC CMT Camp", 
               details: "Description of MEZC CMT Camp", 
               imageUrl: "images/MEZC CMT Camp.jpg" 	     
         	   },
     

// May
         	   { name: "KEMD Adventurer Quiz Day", 
         	     date: new Date("May 5, 2024 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "KEMD Adventurer Quiz Day", 
               details: "Description of KEMD Adventurer Quiz Day", 
               imageUrl: "images/KEMD Adventurer Quiz Day.jpg" 	     
         	   },
     
         	   { name: "Rockside Survival Camp", 
         	     date: new Date("May 10, 2024 06:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Rockside Survival Camp", 
               details: "Description of Rockside Survival Camp", 
               imageUrl: "images/Rockside Survival Camp.jpg" 	     
         	   },

      	      { name: "GC Adventurer Day", 
      	        date: new Date("May 18, 2024 08:00:00").getTime(), 
      	        reminderDays: 2, reminderHours: 12,
               caption: "GC Adventurer Day", 
               details: "Description of GC Adventurer Day", 
               imageUrl: "images/GC Adventurer Day.jpg" 	        
      	      },
     
       	     { name: "MEZC Youth Council", 
       	       date: new Date("May 19, 2024 08:00:00").getTime(), 
       	       reminderDays: 2, reminderHours: 12,
               caption: "MEZC Youth Council", 
               details: "The conference youth council meeting reviews past activities and reports to improve Adventist Youth Ministries in both regions. It empowers youth to develop strategies for enhancement, fostering leadership skills and emphasizing the social value of their contributions to drive meaningful change within the community.", 
               imageUrl: "images/MEZC Council.jpg" 	       
       	     },
     
     
// June
         	   { name: "KEMD Church Heritage Exams", 
         	     date: new Date("Jul 21, 2024 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "KEMD Church Heritage Exams", 
               details: "The Church Heritage exams of the SDA Church provide invaluable insights into Adventist history and beliefs. Participation fosters a deeper understanding of faith and strengthens AYM Leadership. At just K35, it is a worthwhile investment in spiritual growth.", 
               imageUrl: "images/KEMD CH Exams.jpg" 	     
         	   },
     

// July



// August
         	   { name: "KEMD Family Life", 
         	     date: new Date("Aug 11, 2024 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "KEMD Family Life", 
               details: "Join us for an enriching Youth Family Life Program on August 11th! This event is designed to foster strong family bonds and promote personal growth through engaging activities and insightful discussions. Whether you are looking to strengthen connections with loved ones or gain valuable life skills, this program offers something for everyone. Do not miss this opportunity to be part of a supportive community and enjoy a day of learning, connection, and fun. Mark your calendar and come be a part of this transformative experience!", 
               imageUrl: "images/KEMD Family Life.jpg" 	     
         	   },

         	   { name: "KEMD Honour Assessments", 
         	     date: new Date("Aug 25, 2024 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "KEMD Honour Assessments", 
               details: "We are excited to invite you to the Honours Assessment Day for the Education Committee on August 25th! This pivotal event will showcase the achievements and hard work of our dedicated individuals as they present their projects and assessments. Join us to celebrate their commitment to excellence in education and witness firsthand the innovative ideas and strategies shaping the future of learning. Your presence will support and inspire our candidates as they strive for honours and contribute to the advancement of educational excellence. Do not miss this opportunity to be part of a significant day in our educational community!", 
               imageUrl: "images/KEMD Assessment.jpg" 	     
         	   },

              	   { name: "Pathfinder Week", 
         	     date: new Date("Sep 14, 2024 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Pathfinder Week of Prayer", 
               details: "Hello Pathfinders and those young at heart. It's our week! Yes! Jesus camps with you: Breaking Barriers. May you endeavour to camp with Jesus at home, at school and at play. Those who camp with Jesus will never be disappointed. Jesus is a protocol breaker. He breaks the barrier. Those who camp with Jesus will be like Him. They will love others as Christ loves all people regardless of status. When He camps with you, He breaks the barriers. In Him, we are Champions. It's my prayer that you will camp with Him. ", 
               imageUrl: "images/PathfinderWeekOfPrayer.jpg" 	     
         	   }

     
            // Add other events here
         ];

         let currentEventIndex = 0;

         function updateCountdown() {
            // Get the current date and time
            const now = new Date().getTime();

            // Get the details of the current event
            const currentEvent = events[currentEventIndex];

            // Calculate the time remaining for the current event
            const distance = currentEvent.date - now;

            // Calculate days, hours, minutes, and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the countdown for the current event with the event name as a link
            document.getElementById("countdown").innerHTML =
               "<a href='#' onclick='showPopup(\"" + currentEvent.caption + "\", \"" + currentEvent.details + "\", \"" + currentEvent.imageUrl + "\")' style='text-decoration: none; color:#fff;'><strong>" + currentEvent.name + "</strong></a><br>" +
               days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

            // Check if it's time to show a reminder
            if (distance > 0) {
               if (days === currentEvent.reminderDays && hours === currentEvent.reminderHours) {
                  showReminder(currentEvent.name);
               }
            }

            // If the countdown for the current event is over, move to the next event
            if (distance < 0) {
               currentEventIndex++;
               // If all events are completed, display a message
               if (currentEventIndex >= events.length) {
                  document.getElementById("countdown").innerHTML = "All events completed!";
               } else {
                  // Update the countdown for the next event
                  updateCountdown();
               }
            }
         }

         // Function to show the popup with image, caption, and details
         function showPopup(caption, details, imageUrl) {
            document.getElementById('popupsImage').src = imageUrl;
            document.getElementById('popupsCaption').innerHTML = caption;
            document.getElementById('popupsDetails').innerHTML = details;
            document.getElementById('popupsContainer').style.display = 'block';
            document.getElementById('blurredBackground').style.display = 'block'; // Show blurred background
         }

         // Function to close the popups
         function closePopup() {
            document.getElementById('popupsContainer').style.display = 'none';
            document.getElementById('blurredBackground').style.display = 'none'; // Hide blurred background
         }

         let lastScrollPosition = 0;
         const countdown = document.getElementById('countdown');

         window.addEventListener('scroll', () => {
            const currentScrollPosition = window.scrollY;

            if (currentScrollPosition > lastScrollPosition && currentScrollPosition > 100) {
               countdown.classList.add('hide');
            } else {
               countdown.classList.remove('hide');
            }

            lastScrollPosition = currentScrollPosition;
         });

         // Close the popup and blurred background on page load
         window.onload = function () {
            closePopup();
            updateCountdown(); // Call updateCountdown on page load
            // Update the countdown every 1 second
            setInterval(updateCountdown, 1000);
         };

