         // Array of events with their respective dates and reminder thresholds
         const events = [
            { 
               name: "KEMD Inductions", 
               date: new Date("Feb 8, 2025 08:00:00").getTime(), 
               reminderDays: 2, 
               reminderHours: 12, 
               caption: "KEMD Inductions", 
               details: "Description of KEMD Inductions", 
               imageUrl: "images/KEMD Inductions.jpg" 
            },
     
     
// February
             { name: "KEMD Adventurer Bible Quiz", 
               date: new Date("Feb 25, 2025 08:00:00").getTime(), 
               reminderDays: 2, reminderHours: 12,
               caption: "KEMD Adventurer Bible Quiz", 
               details: "Description of KEMD Adventurer Bible Quiz", 
               imageUrl: "images/KEMD Adventurer Bible Quiz.jpg" 
             },
     

// March
             { name: "KEMD Leadership Seminar", 
               date: new Date("Mar 9, 2025 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "MEZC Leadership Seminar", 
               details: "Description of MEZC Leadership Seminar", 
               imageUrl: "images/MEZC Leadership Seminar.jpg" 
             },

     
             { name: "GYD", 
               date: new Date("Mar 15, 2025 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "GYD", 
               details: "Global Youth Day", 
               imageUrl: "images/GYD.jpg" 
             },
     
             { name: "Youth Week of Prayer", 
               date: new Date("Mar 16, 2025 17:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "Youth Week of Prayer", 
               details: "Description of Youth Week of Prayer", 
               imageUrl: "images/Youth Week of Prayer.jpg" 
             },
     
         	   { name: "Assessments", 
         	     date: new Date("Mar 30, 2025 14:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "Assessments", 
               details: "", 
               imageUrl: "images/Assessments.jpg" 	     
         	   },
     
         	   { name: "Fun, Arts and Skills Day", 
         	     date: new Date("Apr 6, 2025 06:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "Fun, Arts and Skills Day", 
               details: "", 
               imageUrl: "images/MEZC I Love my Neighbor.jpg" 	     
         	   },
     
             { name: "Rockside Drill Clinic", 
               date: new Date("Apr 13, 2025 08:00:00").getTime(), 
               reminderDays: 5, reminderHours: 12,
               caption: "Rockside Drill Clinic", 
               details: "", 
               imageUrl: "images/drillClinic.jpg" 
             },

            { name: "KEMD Pathfinder Fair", 
               date: new Date("Apr 20, 2025 08:00:00").getTime(), 
               reminderDays: 5, reminderHours: 12,
               caption: "KEMD Pathfinder Fair", 
               details: "", 
               imageUrl: "images/KEMD Big Sabbath.jpg" 
             },

// April
         	   { name: "Music Camp", 
         	     date: new Date("Apr 18, 2025 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "Music Camp", 
               details: "", 
               imageUrl: "images/KEMD Pathfinder Fair.jpg" 	     
         	   },
     

     

// May
         	   { name: "Capacity Building", 
         	     date: new Date("May 27, 2025 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "Capacity Building", 
               details: "Description of KEMD Adventurer Quiz Day", 
               imageUrl: "images/KEMD Adventurer Quiz Day.jpg" 	     
         	   },
     
         	   { name: "Assessments", 
         	     date: new Date("May 29, 2025 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Assessments", 
               details: "", 
               imageUrl: "images/Rockside Survival Camp.jpg" 	     
         	   },

      	      { name: "GC Adventurer Day", 
      	        date: new Date("May 18, 2025 08:00:00").getTime(), 
      	        reminderDays: 2, reminderHours: 12,
               caption: "GC Adventurer Day", 
               details: "Description of GC Adventurer Day", 
               imageUrl: "images/GC Adventurer Day.jpg" 	        
      	      },
     

// June
         	   { name: "Quiz and Debate", 
         	     date: new Date("Jun 29, 2025 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "Quiz and Debate", 
               details: "", 
               imageUrl: "images/KEMD CH Exams.jpg" 	     
         	   },
     

// July
         	   { name: "Investiture", 
         	     date: new Date("Jul 19, 2025 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "Investiture", 
               details: "", 
               imageUrl: "images/KEMD CH Exams.jpg" 	     
         	   },
     
         	   { name: "Parade Day", 
         	     date: new Date("Jul 29, 2025 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "Parade Day", 
               details: "", 
               imageUrl: "images/KEMD CH Exams.jpg" 	     
         	   },
     


// August

// September
             { name: "Preacher’s Training Seminar", 
         	     date: new Date("Sep 14, 2025 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Preacher’s Training Seminar", 
               details: "", 
               imageUrl: "../images/PathfinderWeekOfPrayer.jpg" 	     
         	   },


	   { name: "Pathfinder Day", 
         	     date: new Date("Sep 21, 2025 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Global Pathfinder Day", 
               details: "Hello Pathfinders and those young at heart. It's our week! Yes! Jesus camps with you: Breaking Barriers. May you endeavour to camp with Jesus at home, at school and at play. Those who camp with Jesus will never be disappointed. Jesus is a protocol breaker. He breaks the barrier. Those who camp with Jesus will be like Him. They will love others as Christ loves all people regardless of status. When He camps with you, He breaks the barriers. In Him, we are Champions. It's my prayer that you will camp with Him. ", 
               imageUrl: "../images/pathfinderDay.jpg" 	     
         	   },
     
            { name: "Assessments", 
         	     date: new Date("Sep 21, 2025 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Assessments", 
               details: "", 
               imageUrl: "../images/IMG-20241019-WA0028.jpg" 	     
         	   },

            { name: "Silver and Gold Expedition", 
         	     date: new Date("Oct 18, 2025 08:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Silver and Gold Expedition", 
               details: "", 
               imageUrl: "../images/IMG-20241019-WA0028.jpg" 	     
         	   },

            { name: "End of Year Party", 
         	     date: new Date("Dec 7, 2025 07:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "End of Year Party", 
               details: "", 
               imageUrl: "../images/crossoverCamp.jpg" 	     
            }




                  
            // Add other events here
         ];

         let currentEventIndex = 0;

         function updateCountdown() {
            // Get the current date and time
            const now = new Date().getTime();

            // Get the details of the current event
            const currentEvent = events[currentEventIndex];

            // Calculate the time remaining for the current event
            const distance = currentEvent.date - now;

            // Calculate days, hours, minutes, and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the countdown for the current event with the event name as a link
            document.getElementById("countdown").innerHTML =
               "<a href='#' onclick='showPopup(\"" + currentEvent.caption + "\", \"" + currentEvent.details + "\", \"" + currentEvent.imageUrl + "\")' style='text-decoration: none; color:#fff;'><strong>" + currentEvent.name + "</strong></a><br>" +
               days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

            // Check if it's time to show a reminder
            if (distance > 0) {
               if (days === currentEvent.reminderDays && hours === currentEvent.reminderHours) {
                  showReminder(currentEvent.name);
               }
            }

            // If the countdown for the current event is over, move to the next event
            if (distance < 0) {
               currentEventIndex++;
               // If all events are completed, display a message
               if (currentEventIndex >= events.length) {
                  document.getElementById("countdown").innerHTML = "All events completed!";
               } else {
                  // Update the countdown for the next event
                  updateCountdown();
               }
            }
         }

         // Function to show the popup with image, caption, and details
         function showPopup(caption, details, imageUrl) {
            document.getElementById('popupsImage').src = imageUrl;
            document.getElementById('popupsCaption').innerHTML = caption;
            document.getElementById('popupsDetails').innerHTML = details;
            document.getElementById('popupsContainer').style.display = 'block';
            document.getElementById('blurredBackground').style.display = 'block'; // Show blurred background
         }

         // Function to close the popups
         function closePopup() {
            document.getElementById('popupsContainer').style.display = 'none';
            document.getElementById('blurredBackground').style.display = 'none'; // Hide blurred background
         }

         let lastScrollPosition = 0;
         const countdown = document.getElementById('countdown');

         window.addEventListener('scroll', () => {
            const currentScrollPosition = window.scrollY;

            if (currentScrollPosition > lastScrollPosition && currentScrollPosition > 100) {
               countdown.classList.add('hide');
            } else {
               countdown.classList.remove('hide');
            }

            lastScrollPosition = currentScrollPosition;
         });

         // Close the popup and blurred background on page load
         window.onload = function () {
            closePopup();
            updateCountdown(); // Call updateCountdown on page load
            // Update the countdown every 1 second
            setInterval(updateCountdown, 1000);
         };
