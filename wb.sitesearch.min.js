/* Copyright WYSIWYG Web Builder 2023 - https://www.wysiwygwebbuilder.com */
var searchDatabase=new SearchDatabase,searchCurrentPage=0;function searchParseURL(e){var h=decodeURIComponent(window.location.href);if(0<h.indexOf("?")){var k="";h=h.split("?")[1].split("&");for(var b=0;b<h.length;b++){var c=h[b].split("=");if("q"==c[0]){k=unescape(c[1]);break}}""!=k&&(document.getElementById(e).value=k,searchPage(""))}}
function get_context(e,h,k){var b=k/2-2,c="",f=j=0,m=-1,v=e.length;for(i=h=e.toLowerCase().indexOf(h);i<v;i++)if(i==h&&(m<i-b-1?c+="... "+e.substr(i-b,b):(b+=(m-i+b+1)/2,c+=e.substr(m+1,i-m-1)),m=i-1,f++,j=1),0<j&&(c+=e.substr(i,1),m++,j++," "==e.substr(i,1))){if(i+4<v){if(j>b&&1<=f||c.length>k){c+=" ...";break}}else j-=4;j>b&&(j=0)}return c}
function searchPaginate(e,h,k){var b=$("#search-pagination");b.find("li").eq(searchCurrentPage+1).addClass("active").siblings().removeClass("active");var c=b.find("li:first-child");b=b.find("li:last-child");0==searchCurrentPage?c.addClass("disabled"):c.removeClass("disabled");searchCurrentPage==h-1?b.addClass("disabled"):b.removeClass("disabled");$("#"+e).find(".search-item").hide().slice(searchCurrentPage*k,(searchCurrentPage+1)*k).show()}
function searchResults(e,h,k,b,c,f,m,v,x,g,n,d){searchCurrentPage=0;var a="",t=(new Date).getTime(),l=document.getElementById(e);l.value=l.value.trim();if(0!=l.value.length){var p={},q=0;l=unescape(l.value);var r=l.split(" ");if(l.match('^"')&&l.match('"$')||l.match("^'")&&l.match("'$"))l=l.substring(1,l.length-1),r=[l];for(var y=q=0;y<database_length;y++){for(var z=0,B=searchDatabase[y].title+" "+searchDatabase[y].description+" "+searchDatabase[y].keywords,A=0;A<r.length;A++){var w=new RegExp(r[A],
"i");w=B.search(w);0<=w?z++:r[A].match("^-")?(w=new RegExp(r[A].substring(1),"i"),w=B.search(w),0<=w?z=0:z++):z=0}z==r.length&&(p[q++]=searchDatabase[y])}if("mobile"==h){""!=n&&(a=a+'<li data-role="list-divider">'+q+n+l,a+="</li>");for(d=0;d<q;d++)a=a+'<li><a href="'+p[d].url+'" target="'+x+'"><h3>'+p[d].title+"</h3>",c&&(a=a+"<p>"+p[d].description+"</p>"),f&&(a=a+"<p>"+p[d].keywords+"</p>"),a+="</a></li>";0==q&&(a="<li>"+noResults+"</li>");$("#"+e+"_results").html(a);$("#"+e+"_results").listview("refresh")}else if(0==
q)a+='<div class="search-text">',a+=g,a+="</div>";else for(""!=n&&(a+='<div class="search-text">',a=a+q+n+l,m&&(e=(new Date).getTime(),a+=" (",a+=((e-t)/1E3).toFixed(2),a+=" ",a+=d,a+=")"),a+="</div>"),d=0;d<q;d++){a+='<div class="search-item">';a=a+'<a class="search-title" href="'+p[d].url+'" target="'+x+'">'+p[d].title+"</a>";v&&(a+="<br>",a=a+'<a class="search-url" href="'+p[d].url+'" target="'+x+'">'+p[d].url+"</a>");c&&""!=p[d].description&&(a+="<br>",a+=p[d].description);if(f&&""!=p[d].keywords){e=
p[d].keywords;e=l.toLowerCase().split(" ");e=get_context(p[d].keywords,e[0],k);for(t=0;t<r.length;t++)r[t]=r[t].replace("*",""),e=e.replace(new RegExp("("+r[t]+")","gi"),'<span class="search-highlight">$1</span>');a+="<br>";a+=e}a+="</div>"}var u=1;0<b&&(u=Math.ceil(q/b),1<u&&(a+='<ul id="search-pagination"><li><a href="#">&laquo;</a></li><li><a href="#">&raquo;</a></li></ul>'));$("#"+h).html(a);if(1<u){k=$("#search-pagination");for(c=0;c<u;c++)f="<a>"+(c+1)+"</a>",$("<li></li>").html(f).bind("click",
{newPage:c},function(C){searchCurrentPage=C.data.newPage;searchPaginate(h,u,b)}).appendTo(k).addClass("clickable");k.find("li").eq(1).appendTo(k);k.find("li:first-child").click(function(){0<searchCurrentPage&&searchCurrentPage--;searchPaginate(h,u,b)});k.find("li:last-child").click(function(){searchCurrentPage<u-1&&searchCurrentPage++;searchPaginate(h,u,b)});searchPaginate(h,u,b)}}}
function searchAutoComplete(e,h,k){var b=$("#"+e),c=$('<ul class="search-autocomplete"></ul>').hide().insertAfter(b),f=null,m=function(g){f=g;null===f?c.hide():(0>f&&(f=0),f>=c.find("li").length&&(f=c.find("li").length-1),c.find("li").removeClass("selected").eq(f).addClass("selected"),c.css("left",b.position().left),c.css("top",b.position().top+b.outerHeight()),c.css("width",b.outerWidth()),c.show())},v=function(){b.val(c.find("li").eq(f).text());m(null)},x=function(){for(var g=c.find("li").eq(f).text(),
n=0;n<database_length;n++)if(0<=(searchDatabase[n].title+" "+searchDatabase[n].description+" "+searchDatabase[n].keywords).search(new RegExp(g,"i"))){k&&0!==k.length?window.open(searchDatabase[n].url,k):location.href=searchDatabase[n].url;break}};b.attr("autocomplete","off").keyup(function(g){if(40<g.keyCode||8==g.keyCode){g=[];var n=b.val();n=n.toLowerCase();for(a=0;a<database_length;a++){var d=(searchDatabase[a].title+" "+searchDatabase[a].description+" "+searchDatabase[a].keywords).toLowerCase().split(" ");
g=$.merge(g,d)}d=[];var a=0;a:for(;a<g.length;a++){for(var t=0;t<d.length;t++)if(d[t]==g[a])continue a;d[d.length]=g[a]}d.sort();if(n.length&&d.length){c.empty();var l=0;$.each(d,function(p,q){q=q.toLowerCase();0==q.indexOf(n)&&($("<li></li>").text(q).data("item",l).appendTo(c).mouseover(function(){var r=$(this).data("item");m(r)}).click(function(){1==h?x():v()}),l++)});m(0)}else m(null)}else 38==g.keyCode&&null!==f?(m(f-1),g.preventDefault()):40==g.keyCode&&null!==f?(m(f+1),g.preventDefault()):27==
g.keyCode&&null!==f&&m(null)}).keypress(function(g){13==g.keyCode&&null!==f&&(1==h?x():v(),g.preventDefault())}).blur(function(g){setTimeout(function(){m(null)},250)})};